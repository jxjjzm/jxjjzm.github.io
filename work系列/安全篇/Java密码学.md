### Java密码学 ###
***

在现代社会中， 很多信息都存储在计算机里， 这让信息的使用变得非常方便，不过， 也正是因为如此， 在现代社会中要保护好自己的秘密信息已经变得非常困难。即便别人复制了你的秘密信息， 你也不会有所察觉， 因为你手上的信息并没有丢失；正是因为信息可以很容易地被修改，所以你的重要文件也存在被他人篡改的风险； 此外， 如果有人将你的秘密信息通过邮件发送给第三者或者是发布在网页上， 也会给你带来大麻烦。为了解决这些问题， 人们开发出形形色色的密码技术。（密码学： 主要是研究保密通信和信息保密的学科， 包括信息保密传输和信息加密存储等。）

密码学常用术语：

- 明文（ Plaintext） ： 指待加密信息。 明文可以是文本文件、 图片文件、 二进制数据等。
- 密文（ Ciphertext） ： 指经过加密后的明文。 密文通常以文本、 二进制数据等形式存在。
- 发送者（ Sender） ： 指发送消息的人。
- 接收者（ Receiver） ： 指接收消息的人。
- 加密（ Encryption） ： 指将明文转换为密文的过程。
- 加密算法（ Encryption Algorithm） ： 指将明文转换为密文的算法。
- 加密密钥（ Encryption Key） ： 指通过加密算法进行加密操作用的密钥。
- 解密（ Decryption） ： 指将密文转换成明文的过程。
- 解密算法（ Decryption Algorithm） ： 指将密文转换为明文的算法。
- 解密密钥（ Decryption Key） ： 指通过解密算法进行解密操作用的密钥。
- 密码分析（ Cryptanalysis） ： 指截获密文者试图通过分析截获的密文从而推断出原来的明文或密钥的过程。
- 密码分析者（ Cryptanalyst） ： 等同于密码破译者， 指从事密码分析的人。
- 被动攻击（ Passive Attack） ： 指对一个保密系统采取截获密文并对密文进行分析和攻击的行为。 这种攻击对密文没有破坏作用。
- 主动攻击（ Active Attack） ： 指攻击者非法入侵密码系统， 采用伪造、 修改、 删除等手段向系统注入假消息进行欺骗的行为。 这种攻击对密文具有破坏作用。
- 密码体制（ Cipher System） ： 由明文空间、 密文空间、 密钥空间、 加密算法和解密算法五部分构成。
- 密码协议（ Cryptographic Protocol） ： 有时又称安全协议， 是指以密码学为基础的消息交换的通信协议， 其目的是在网络环境中提供各种安全服务。 密码协议与密码算法同等重要， 是当今密码学研究的两大课题。 密码学是网络安全的基础， 但网络安全不能单纯依靠安全的密码算法。密码协议是网络安全的一个重要组成部分， 通过密码协议可以进行实体之间的认证、 在实体之间安全地分配密钥或其他各种秘密、确认发送和接收的消息的不可否认性等。
- 密码系统（ Cryptography） ： 指用于加密和解密的系统。 加密时， 密码系统输入明文和加密密钥， 进行加密变换后， 输出密文； 解密时， 密码系统输入密文和解密密钥， 进行解密变换后， 输入明文。 一个密码系统由信源、 加密变换、 解密变换、 信宿和攻击者组成。 密码系统强调密码方案的实际应用， 通常应当是一个包含软、 硬件的系统。


![](https://images2015.cnblogs.com/blog/741560/201704/741560-20170409072044644-1093405659.png)

### 一、Hash算法与数字摘要 ###

#### 1.Hash算法 ####

Hash（哈希或散列）算法是非常基础也非常重要的计算机算法，它能够将任意长度的二进制明文映射为较短的（通常是固定长度的）二进制串（Hash值），并且不同的明文很难映射为相同的Hash值（Hash值在应用中又常被称为指纹（fingerprint）或摘要（digest））。一个优秀的Hash算法将能实现如下功能：

- 正向快速：给定明文和Hash算法，在有限时间和优先资源内能计算得到Hash值；
- 逆向困难：给定（若干）Hash值，在有限时间内很难（基本不可能）逆推出明文； 
- 输入敏感：原始输入信息发生任何改变，新产生的Hash值都应该出现很大不同；
- 冲突避免：很难找到两段内容不同的明文，使得它们的Hash值一致（发生碰撞）。

目前常见的Hash算法包括MD5和SHA系列算法。（MD5和SHA1已经被破解，一般推荐至少使用SHA2-256或更安全的算法）


- MD算法：MD2、MD4、MD5
- SHA算法：SHA-1、SHA-224、SHA-256、SHA-384、SHA-512
- MAC算法：HmacMD5、HmacSHA1、HmacSHA256、HmacSHA384、HmacSHA512


#### 2.数字摘要 ####

顾名思义，数字摘要是对数字内容进行Hash运算，获取唯一的摘要值来指代原始完整的数字内容。（数字摘要是Hash算法最重要的一个用途）



### 二、加解密算法 ###

根据加解密过程中所使用的秘钥是否相同，算法可以分为对称加密（公共秘钥加密）和非对称加密（公钥加密）。


#### 1.对称加密 ####

对称加密采用了对称密码编码技术，它的特点是文件加密和解密使用相同的密钥，即加密密钥也可以用作解密密钥，这种方法在密码学中叫做对称加密算法，对称加密算法使用起来简单快捷，密钥较短，且破译困难。

- 特点：加解密的秘钥相同
- 优势：计算效率高，加密强度高
- 缺陷：需提前共享秘钥，易泄漏
- 代表：DES、3DES、AES、IDEA、RC4

对称密码从实现原理上可以分为两种：分组密码（DES、3DES、AES、IDEA）和序列密码（RC4）。前者将明文切分为定长数据块作为基本加密单位，应用最为广泛。后者则每次只对一个字节或字符进行加密处理，且密码不断变化，只用在一些特定领域，如数字媒介的加密等，序列密码又称流密码，序列密码采用了类似“一次性密码本”（它的原理就是：将明文与一串随机的比特序列进行XOR运算，即异或运算。随机的比特序列也称为密钥，密钥的长度需与明文等长。而解密时，则将密文与密钥再进行一次XOR运算，就可以得到明文了。）的对称加密处理思想，每次通过伪随机数生成器来生成伪随机秘钥串。

#### 2.非对称加密 ####

1976年，美国学者Dime和Henman为解决信息公开传送和密钥管理问题，提出一种新的密钥交换协议，允许在不安全的媒体上的通讯双方交换信息，安全地达成一致的密钥，这就是“公开密钥系统”。相对于“对称加密算法”这种方法也叫做“非对称加密算法”。与对称加密算法不同，非对称加密算法需要两个密钥：公开密钥（publickey）和私有秘钥 （privatekey）。公开密钥与私有密钥是一对，如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密；如果用私有密钥对数据进行加密，那么只有用对应的公开密钥才能解密。因为加密和解密使用的是两个不同的密钥，所以这种算法叫作非对称加密算法。

- 特点：加解密的秘钥不相关
- 优势：无需提前共享秘钥
- 缺陷：计算效率低，仍存在中间人攻击可能
- 代表：RSA、EIGamal、椭圆曲线系列算法ECC

在工作中对接支付宝开放平台时，频繁使用RSA/RSA2(RSA算法指的是通过生成一对RSA密钥，其中私钥，由开发者保存；公钥可对外公开；私钥用于签名，公钥用于验签。开发者保存自己的私钥，通过支付宝提供的公钥进行通信来保证信息传输的完整性以及发送者身份的真实性。 )进行加签解签操作：

![](https://i.imgur.com/PQgWbPc.png)

#### 3.混合加密机制 ####

混合加密机制同时结合了对称加密和非对称加密的优点。先用计算复杂度高的非对称加密协商出一个临时的对称加密秘钥（也称为会话秘钥，一般相对所加密内容来说要短的多），然后双方再通过对称加密算法算法对传递的大量数据进行快速的加解密处理。典型的应用案例是现在大家常用的HTTPS协议。


### 三、消息认证码与数字签名 ###

消息认证码和数字签名技术通过对消息的摘要进行加密，可用于消息防篡改和身份证明问题。

#### 1.消息认证码 ####

消息认证码全称是“基于Hash的消息认证码（Hash-based Message Authentication Code,HMAC）”。消息对称码基于对称加密，可以用于对消息完整性进行保护。基本过程为：对某个消息利用提前共享的对称秘钥和Hash算法进行加密处理，得到HMAC值。（消息认证码使用过程中主要问题是需要共享秘钥。当秘钥可能被多方拥有的场景下，无法证明消息来自某个确认的身份。反之，如果采用非对称加密方式，则可以追溯到来源身份，即数字签名）

#### 2.数字签名 ####

与在纸质合同上签名确认合同内容和证明身份类似，数字签名基于非对称加密，既可用于证实某数字内容的完整性，又同时可以确认来源。

### 四、数字证书 ###




### 附录： ###

1.参考资料

- [Java密码学算法](https://www.cnblogs.com/rocedu/p/6683948.html)
- [数据安全](http://ye-liang.iteye.com/category/302801)






